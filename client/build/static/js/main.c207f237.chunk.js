(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{196:function(e,t,n){},197:function(e,t,n){},283:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(33),c=n.n(a),s=n(14),i=n(89),o=n(157),d=n(158),l="PRODUCT_LIST_REQUEST",u="PRODUCT_LIST_SUCCESS",j="PRODUCT_LIST_FAIL",p="PRODUCT_DETAILS_REQUEST",b="PRODUCT_DETAILS_SUCCESS",h="PRODUCT_DETAILS_FAIL",O="PRODUCT_DELETE_REQUEST",m="PRODUCT_DELETE_SUCCESS",x="PRODUCT_DELETE_FAIL",f="PRODUCT_ADD_REQUEST",g="PRODUCT_ADD_SUCCESS",y="PRODUCT_ADD_FAIL",v="PRODUCT_UPDATE_REQUEST",S="PRODUCT_UPDATE_SUCCESS",I="PRODUCT_UPDATE_FAIL",E=n(22),_=n(20),C="CART_ADD_ITEM",L="CART_REMOVE_ITEM",k="CART_RESET",A="CART_SAVE_SHIPPING_ADDRESS",w="CART_SAVE_PAYMENT_METHOD",R="USER_LOGIN_REQUEST",D="USER_LOGIN_SUCCESS",T="USER_LOGIN_FAIL",N="USER_LOGOUT",U="USER_REGISTER_REQUEST",P="USER_REGISTER_SUCCESS",F="USER_REGISTER_FAIL",G="USER_DETAILS_REQUEST",M="USER_DETAILS_SUCCESS",B="USER_DETAILS_FAIL",Q="USER_UPDATE_PROFILE_REQUEST",q="USER_UPDATE_PROFILE_SUCCESS",z="USER_UPDATE_PROFILE_FAIL",J="USER_UPDATE_PROFILE_RESET",H="USER_LIST_REQUEST",V="USER_LIST_SUCCESS",Y="USER_LIST_FAIL",W="USER_LIST_RESET",K="USER_DELETE_REQUEST",X="USER_DELETE_SUCCESS",Z="USER_DELETE_FAIL",$="USER_UPDATE_REQUEST",ee="USER_UPDATE_SUCCESS",te="USER_UPDATE_FAIL",ne="USER_UPDATE_RESET",re="ORDER_CREATE_REQUEST",ae="ORDER_CREATE_SUCCESS",ce="ORDER_CREATE_FAIL",se="ORDER_RESET",ie="ORDER_DETAILS_REQUEST",oe="ORDER_DETAILS_SUCCESS",de="ORDER_DETAILS_FAIL",le="MY_ORDER_LIST_REQUEST",ue="MY_ORDER_LIST_SUCCESS",je="MY_ORDER_LIST_FAIL",pe="ALL_ORDER_LIST_REQUEST",be="ALL_ORDER_LIST_SUCCESS",he="ALL_ORDER_LIST_FAIL",Oe="NOT_ACCEPTED_ORDER_COUNT_REQ",me="NOT_ACCEPTED_ORDER_COUNT_SUCCESS",xe="NOT_ACCEPTED_ORDER_COUNT_FAIL",fe=Object(i.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return{loading:!0,products:[]};case u:return{loading:!1,products:t.payload};case j:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return{loading:!0,product:{}};case b:return{loading:!1,product:t.payload};case h:return{loading:!1,error:t.payload};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0};case D:return{loading:!1,userInfo:t.payload};case T:return{loading:!1,error:t.payload};case N:return{userInfo:{}};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{loading:!0};case P:return{loading:!1,userInfo:t.payload};case F:return{loading:!1,error:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case M:return{loading:!1,user:t.payload};case B:return{loading:!1,error:t.payload};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return{loading:!0};case q:return{loading:!1,success:!0,userInfo:t.payload};case z:return{loading:!1,error:t.payload};case J:return{};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return{loading:!0};case ae:return{loading:!1,order:t.payload,success:!0};case ce:return{loading:!1,error:t.payload};case se:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,order:{},orderItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case oe:return{loading:!1,order:t.payload.order,orderItems:t.payload.orderItems};case de:return{loading:!1,error:t.payload};default:return e}},myOrderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case ue:return{loading:!1,orders:t.payload};case je:return{loading:!1,error:t.payload};default:return e}},allOrdersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allOrders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case be:return{loading:!1,allOrders:t.payload};case he:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{},paymentMethod:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:var n=t.payload,r=e.cartItems.find((function(e){return e.product===n.product}));return r?Object(_.a)(Object(_.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===r.product?n:e}))}):Object(_.a)(Object(_.a)({},e),{},{cartItems:[].concat(Object(E.a)(e.cartItems),[n])});case L:return Object(_.a)(Object(_.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case A:return Object(_.a)(Object(_.a)({},e),{},{shippingAddress:t.payload});case w:return Object(_.a)(Object(_.a)({},e),{},{paymentMethod:t.payload});case k:return Object(_.a)(Object(_.a)({},e),{},{cartItems:[]});default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return{loading:!0};case V:return{loading:!1,users:t.payload};case Y:return{loading:!1,error:t.payload};case W:return{loading:!1,users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{loading:!0};case X:return{loading:!1,success:!0};case Z:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return{loading:!0};case ee:return{loading:!1,success:!0};case te:return{loading:!1,error:t.payload};case ne:return{user:{}};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{loading:!0};case m:return{loading:!1,success:!0};case x:return{loading:!1,error:t.payload};default:return e}},productAdd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loading:!0};case g:return{loading:!1,success:!0};case y:return{loading:!1,error:t.payload};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{loading:!0};case S:return{loading:!1,success:!0};case I:return{loading:!1,error:t.payload};default:return e}},notAcceptedOrderCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{notAcceptedOrderCount:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return{loading:!0};case me:return{loading:!1,notAcceptedOrderCount:t.payload};case xe:return{loading:!1,error:t.payload};default:return e}}}),ge={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):{}},userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},ye=[o.a],ve=Object(i.createStore)(fe,ge,Object(d.composeWithDevTools)(i.applyMiddleware.apply(void 0,ye))),Se=(n(196),n(197),n(12)),Ie=n(39),Ee=n(344),_e=n(325),Ce=n(348),Le=n(338),ke=n(19),Ae=n.n(ke),we=n(24),Re=n(28),De=n.n(Re),Te=function(e){return function(){var t=Object(we.a)(Ae.a.mark((function t(n,r){var a,c,s,i,o;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:G}),a=r(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,De.a.get("/api/users/".concat(e),s);case 6:i=t.sent,o=i.data,n({type:M,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:B,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},Ne=function(e){return function(){var t=Object(we.a)(Ae.a.mark((function t(n,r){var a,c,s,i,o;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:$}),a=r(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,De.a.put("/api/users/".concat(e.id),e,s);case 6:i=t.sent,o=i.data,n({type:ee}),n({type:M,payload:o}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:te,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()},Ue=n(42),Pe=n(342),Fe=n(164),Ge=n.n(Fe),Me=n(159),Be=n.n(Me),Qe=function(){return function(){var e=Object(we.a)(Ae.a.mark((function e(t,n){var r,a,c,s,i;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:le}),r=n(),a=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,De.a.get("/api/orders/myorders",c);case 6:s=e.sent,i=s.data,t({type:ue,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:je,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},qe=n(1),ze=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.userLogin})).userInfo,n=Object(s.c)((function(e){return e.notAcceptedOrderCount})).notAcceptedOrderCount,a=Object(r.useState)(0),c=Object(Se.a)(a,2),i=c[0],o=c[1];t&&1===t.isAdmin&&new Be.a("9f1c84fd83aa4d3a3774",{cluster:"ap2"}).subscribe("order-channel").bind("place-order-event",(function(e){i&&i>0&&e.unattendedOrders!==i&&o(e.unattendedOrders)}));return Object(r.useEffect)((function(){t&&t.isAdmin&&e(function(){var e=Object(we.a)(Ae.a.mark((function e(t,n){var r,a,c,s,i;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Oe}),r=n(),a=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,De.a.get("/api/orders/getNotAcceptedOrderCount",c);case 6:s=e.sent,i=s.data,t({type:me,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:xe,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}())}),[e,t]),Object(r.useEffect)((function(){o(n)}),[n]),Object(qe.jsx)("header",{children:Object(qe.jsx)(Ee.a,{collapseOnSelect:!0,expand:"sm",bg:"primary",variant:"dark",children:Object(qe.jsxs)(_e.a,{children:[Object(qe.jsx)(Ie.LinkContainer,{to:"/",children:Object(qe.jsx)(Ee.a.Brand,{children:"Gaia Soaps"})}),Object(qe.jsx)(Ee.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(qe.jsx)(Ee.a.Collapse,{id:"basic-navbar-nav",children:Object(qe.jsxs)(Ce.a,{className:"ms-auto",children:[Object(qe.jsx)(Ie.LinkContainer,{to:"/cart",children:Object(qe.jsxs)(Ce.a.Link,{children:[Object(qe.jsx)("i",{className:"fas fa-shopping-cart"}),"Cart"]})}),Object(Ue.isEmpty)(t)?Object(qe.jsx)(Ie.LinkContainer,{to:"/login",children:Object(qe.jsxs)(Ce.a.Link,{children:[Object(qe.jsx)("i",{className:"fas fa-user"}),"Sign in"]})}):Object(qe.jsxs)(Le.a,{title:t.name,id:"username",children:[Object(qe.jsx)(Ie.LinkContainer,{to:"/profile",children:Object(qe.jsx)(Le.a.Item,{children:"Profile"})}),Object(qe.jsx)(Le.a.Item,{onClick:function(){e((function(e){localStorage.removeItem("userInfo"),e({type:N}),e({type:W}),e({type:k})}))},children:"Logout"})]}),t&&1===t.isAdmin&&Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsxs)(Le.a,{title:"Admin",id:"adminmenu",children:[Object(qe.jsx)(Ie.LinkContainer,{to:"/admin/userList",children:Object(qe.jsx)(Le.a.Item,{children:"Users"})}),Object(qe.jsx)(Ie.LinkContainer,{to:"/admin/productlist",children:Object(qe.jsx)(Le.a.Item,{children:"Products"})}),Object(qe.jsx)(Ie.LinkContainer,{to:"/admin/orderlist",children:Object(qe.jsx)(Le.a.Item,{children:"Orders"})})]}),Object(qe.jsx)("div",{style:{padding:"2% 0 0 0",cursor:"pointer"},children:Object(qe.jsx)(Ie.LinkContainer,{to:"/admin/orderlist",children:Object(qe.jsx)(Pe.a,{badgeContent:i,sx:{color:"#f1fdff"},children:Object(qe.jsx)(Ge.a,{sx:{color:"#f1fdff"}})})})})]})]})})]})})})},Je=n(330),He=n(165),Ve=n.p+"static/media/fb.e4202c24.svg",Ye=n.p+"static/media/insta.172f3110.svg",We=n.p+"static/media/phone.a459bda1.svg",Ke=n.p+"static/media/mail.14711ab7.svg",Xe=function(){return Object(qe.jsx)("footer",{className:"footer-cls py-3",children:Object(qe.jsxs)(Je.a,{className:"footer-row-cls",children:[Object(qe.jsxs)(He.a,{lg:4,sm:12,children:[Object(qe.jsxs)("div",{className:"footer-div-left-cls px-5",children:[Object(qe.jsx)("img",{className:"footer-icon-img-cls",src:We,alt:"img"}),"9686812526"]}),Object(qe.jsxs)("div",{className:"footer-div-left-cls px-5",children:[Object(qe.jsx)("img",{className:"footer-icon-img-cls",src:Ke,alt:"img"}),"gaiasoapschennai@gmail.com"]})]}),Object(qe.jsxs)(He.a,{lg:4,sm:12,children:[Object(qe.jsx)("div",{children:"\xa9 Gaia soaps"})," ",Object(qe.jsx)("div",{children:"* Cold Pressed | Natural | Skin Safe *"})]}),Object(qe.jsxs)(He.a,{lg:4,sm:12,className:"footer-div-right-cls px-5",children:[Object(qe.jsx)("div",{children:"Follow us on: "}),Object(qe.jsx)("a",{href:"https://www.facebook.com/gaiasoapschennai/",target:"_blank",rel:"noopener noreferrer",children:Object(qe.jsx)("img",{className:"footer-icon-img-cls",src:Ve,alt:"img"})}),Object(qe.jsx)("a",{href:"https://www.instagram.com/gaiasoapschennai/",target:"_blank",rel:"noopener noreferrer",children:Object(qe.jsx)("img",{className:"footer-icon-img-cls",src:Ye,alt:"img"})})]})]})})},Ze=n(349),$e=n(25),et=function(e){var t=e.product;return Object(qe.jsxs)(Ze.a,{className:"my-3 p-3 rounded",children:[Object(qe.jsx)($e.Link,{to:"/product/".concat(t.id),children:Object(qe.jsx)(Ze.a.Img,{src:t.image,variant:"top"})}),Object(qe.jsx)(Ze.a.Body,{children:Object(qe.jsxs)($e.Link,{to:"/product/".concat(t.id),children:[Object(qe.jsx)(Ze.a.Title,{as:"div",children:Object(qe.jsx)("strong",{children:t.name})}),Object(qe.jsx)(Ze.a.Text,{as:"div",children:Object(qe.jsx)("div",{className:"my-3",children:t.one_line_desc})}),Object(qe.jsxs)(Ze.a.Text,{as:"h3",children:["\u20b9",t.price]})]})})]})},tt=function(){return function(){var e=Object(we.a)(Ae.a.mark((function e(t){var n,r;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:l}),e.next=4,De.a.get("/api/products/");case 4:n=e.sent,r=n.data,t({type:u,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:j,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},nt=n(331),rt=function(){return Object(qe.jsx)(nt.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(qe.jsx)("span",{className:"sr-only",children:"Loading..."})})},at=n(346),ct=function(e){var t=e.variant,n=e.children;return Object(qe.jsx)(at.a,{variant:t,children:n})};ct.defaultProps={variant:"info"};var st=ct,it=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.productList}));Object(r.useEffect)((function(){e(tt())}),[e]);var n=t.loading,a=t.products,c=t.error;return Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)("h1",{children:" Products"}),n?Object(qe.jsx)(rt,{}):c?Object(qe.jsx)(st,{variant:"danger",children:c}):Object(qe.jsx)(Je.a,{children:a.map((function(e){return Object(qe.jsx)(He.a,{sm:12,md:6,lg:4,xl:3,children:Object(qe.jsx)(et,{product:e})},e.id)}))})]})},ot=n(30),dt=n(332),lt=n(350),ut=n(340),jt=n(162),pt=n(166),bt=function(e){var t=e.history,n=e.match,a=Object(r.useState)(1),c=Object(Se.a)(a,2),i=c[0],o=c[1],d=Object(s.b)();Object(r.useEffect)((function(){var e;d((e=n.params.id,function(){var t=Object(we.a)(Ae.a.mark((function t(n){var r,a;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:p}),t.next=4,De.a.get("/api/products/".concat(e));case 4:r=t.sent,a=r.data,n({type:b,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:h,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[d,n]);var l=Object(s.c)((function(e){return e.productDetails})),u=l.loading,j=l.product,O=l.error;return Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)($e.Link,{className:"btn btn-dark my-3",to:"/",children:"Go Back"}),u?Object(qe.jsx)(rt,{}):O?Object(qe.jsx)(st,{variant:"danger",children:O}):Object(qe.jsxs)(Je.a,{children:[Object(qe.jsx)(He.a,{md:6,children:Object(qe.jsx)(dt.a,{src:j.image,alt:j.name,fluid:!0})}),Object(qe.jsx)(He.a,{md:3,children:Object(qe.jsxs)(lt.a,{variant:"flush",children:[Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsx)("h3",{children:j.name})}),Object(qe.jsxs)(lt.a.Item,{children:["Price: \u20b9",j.price]}),Object(qe.jsxs)(lt.a.Item,{children:["Description: ",j.description?Object(pt.a)(j.description):null]})]})}),Object(qe.jsx)(He.a,{md:3,children:Object(qe.jsx)(Ze.a,{children:Object(qe.jsxs)(lt.a,{variant:"flush",children:[Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsxs)(Je.a,{children:[Object(qe.jsx)(He.a,{children:"Price:"}),Object(qe.jsx)(He.a,{children:Object(qe.jsxs)("strong",{children:["\u20b9",j.price]})})]})}),Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsxs)(Je.a,{children:[Object(qe.jsx)(He.a,{children:"Status:"}),Object(qe.jsx)(He.a,{children:Object(qe.jsx)("strong",{children:j.countInStock>0?"In Stock":"Out of Stock"})})]})}),j.countInStock>0&&Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsxs)(Je.a,{children:[Object(qe.jsx)(He.a,{children:"Qty:"}),Object(qe.jsx)(He.a,{children:Object(qe.jsx)(ut.a.Control,{as:"select",value:i,onChange:function(e){return o(e.target.value)},children:Object(E.a)(Array(j.countInStock).keys()).map((function(e){return Object(qe.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsx)(jt.a,{onClick:function(){t.push("/cart/".concat(n.params.id,"?qty=").concat(i))},className:"col-12",type:"button",disabled:0===j.countInStock,children:"Add To Cart"})})]})})})]})]})},ht=function(e,t){return function(){var n=Object(we.a)(Ae.a.mark((function n(r,a){var c,s;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,De.a.get("/api/products/".concat(e));case 2:c=n.sent,s=c.data,r({type:C,payload:{product:s.id,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Ot=function(e){var t=e.match,n=e.location,a=e.history,c=t.params.id,i=n.search?Number(n.search.split("=")[1]):1,o=Object(s.b)();Object(r.useEffect)((function(){c&&o(ht(c,i))}),[o,c,i]);var d=Object(s.c)((function(e){return e.cart})).cartItems,l=Object(s.c)((function(e){return e.userLogin})).userInfo,u=function(e){o(function(e){return function(){var t=Object(we.a)(Ae.a.mark((function t(n,r){return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:L,payload:e}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(e))};return Object(qe.jsxs)(Je.a,{children:[Object(qe.jsxs)(He.a,{md:8,children:[Object(qe.jsx)("h1",{children:"Shopping Cart"}),0===d.length?Object(qe.jsxs)(st,{children:["Your cart is empty ",Object(qe.jsx)($e.Link,{to:"/",children:"Go Back"})]}):Object(qe.jsx)(lt.a,{variant:"flush",children:d.map((function(e){return Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsxs)(Je.a,{children:[Object(qe.jsx)(He.a,{md:2,children:Object(qe.jsx)(dt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(qe.jsx)(He.a,{md:3,children:Object(qe.jsx)($e.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(qe.jsxs)(He.a,{md:2,children:["\u20b9",e.price]}),Object(qe.jsx)(He.a,{md:2,children:Object(qe.jsx)(ut.a.Control,{as:"select",value:e.qty,onChange:function(t){return o(ht(e.product,Number(t.target.value)))},children:Object(E.a)(Array(e.countInStock).keys()).map((function(e){return Object(qe.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(qe.jsx)(He.a,{md:2,children:Object(qe.jsx)(jt.a,{type:"button",variant:"light",onClick:function(){return u(e.product)},children:Object(qe.jsx)("i",{className:"fas fa-trash"})})})]})},e.product)}))})]}),Object(qe.jsx)(He.a,{md:4,children:Object(qe.jsx)(Ze.a,{children:Object(qe.jsxs)(lt.a,{variant:"flush",children:[Object(qe.jsxs)(lt.a.Item,{children:[Object(qe.jsxs)("h2",{children:["Sub Total (",d.reduce((function(e,t){return e+t.qty}),0),") items"]}),"\u20b9",d.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]}),Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsx)(jt.a,{type:"button",className:"col-12",disabled:0===d.length,onClick:function(){Object(Ue.isEmpty)(l)?a.push("/login"):a.push("/shipping")},children:"Proceed to Checkout"})})]})})})]})},mt=function(e){var t=e.children;return Object(qe.jsx)(_e.a,{children:Object(qe.jsx)(Je.a,{className:"justify-content-md-center",children:Object(qe.jsx)(He.a,{xs:12,md:6,children:t})})})},xt=function(e){var t=e.history,n=e.location,a=Object(r.useState)(""),c=Object(Se.a)(a,2),i=c[0],o=c[1],d=Object(r.useState)(""),l=Object(Se.a)(d,2),u=l[0],j=l[1],p=Object(s.b)(),b=Object(s.c)((function(e){return e.userLogin})),h=b.loading,O=b.error,m=b.userInfo,x=n.search?n.search.split("=")[1]:"/";Object(r.useEffect)((function(){Object(Ue.isEmpty)(m)||t.push(x)}),[t,m,x]);return Object(qe.jsxs)(mt,{children:[Object(qe.jsx)("h1",{children:"Sign In"}),O&&Object(qe.jsx)(st,{variant:"danger",children:O}),h&&Object(qe.jsx)(rt,{}),Object(qe.jsxs)(ut.a,{onSubmit:function(e){e.preventDefault(),p(function(e,t){return function(){var n=Object(we.a)(Ae.a.mark((function n(r){var a,c,s;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:R}),a={headers:{"Content-type":"application/json"}},n.next=5,De.a.post("/api/users/login",{email:e,password:t},a);case 5:c=n.sent,s=c.data,r({type:D,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),r({type:T,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(i,u))},children:[Object(qe.jsxs)(ut.a.Group,{controlId:"email",children:[Object(qe.jsx)(ut.a.Label,{children:"Email Address"}),Object(qe.jsx)(ut.a.Control,{type:"email",placeholder:"Enter email",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(qe.jsxs)(ut.a.Group,{controlId:"password",children:[Object(qe.jsx)(ut.a.Label,{children:"Password"}),Object(qe.jsx)(ut.a.Control,{type:"password",placeholder:"Enter password",value:u,onChange:function(e){return j(e.target.value)}})]}),Object(qe.jsx)(jt.a,{className:"my-3",type:"submit",variant:"primary",children:"Sign In"})]}),Object(qe.jsx)(Je.a,{className:"py-3",children:Object(qe.jsxs)(He.a,{children:["New Customer?",Object(qe.jsx)($e.Link,{to:x?"/register?redirect=".concat(x):"/register",children:Object(qe.jsx)("span",{className:"px-3",children:"Register"})})]})})]})},ft=function(e){var t=e.history,n=e.location,a=Object(r.useState)(""),c=Object(Se.a)(a,2),i=c[0],o=c[1],d=Object(r.useState)(""),l=Object(Se.a)(d,2),u=l[0],j=l[1],p=Object(r.useState)(""),b=Object(Se.a)(p,2),h=b[0],O=b[1],m=Object(r.useState)(""),x=Object(Se.a)(m,2),f=x[0],g=x[1],y=Object(r.useState)(""),v=Object(Se.a)(y,2),S=v[0],I=v[1],E=Object(r.useState)(""),_=Object(Se.a)(E,2),C=_[0],L=_[1],k=Object(s.b)(),A=Object(s.c)((function(e){return e.userRegister})),w=A.loading,R=A.error,T=A.userInfo,N=n.search?n.search.split("=")[1]:"/";Object(r.useEffect)((function(){T&&t.push(N)}),[t,T,N]);return Object(qe.jsxs)(mt,{children:[Object(qe.jsx)("h1",{children:"Sign Up"}),C&&Object(qe.jsx)(st,{variant:"danger",children:C}),R&&Object(qe.jsx)(st,{variant:"danger",children:R}),w&&Object(qe.jsx)(rt,{}),Object(qe.jsxs)(ut.a,{onSubmit:function(e){e.preventDefault(),u!==h?L("Passwords do not match"):k(function(e,t,n,r){return function(){var a=Object(we.a)(Ae.a.mark((function a(c){var s,i,o;return Ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c({type:U}),s={headers:{"Content-type":"application/json"}},a.next=5,De.a.post("/api/users",{name:e,email:t,password:n,phone:r},s);case 5:i=a.sent,o=i.data,c({type:P,payload:o}),c({type:D,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),c({type:F,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()}(f,i,u,S))},children:[Object(qe.jsxs)(ut.a.Group,{controlId:"name",children:[Object(qe.jsx)(ut.a.Label,{children:"Name"}),Object(qe.jsx)(ut.a.Control,{type:"name",placeholder:"Enter name",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(qe.jsxs)(ut.a.Group,{controlId:"email",children:[Object(qe.jsx)(ut.a.Label,{children:"Email Address"}),Object(qe.jsx)(ut.a.Control,{type:"email",placeholder:"Enter email",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(qe.jsxs)(ut.a.Group,{controlId:"phone",children:[Object(qe.jsx)(ut.a.Label,{children:"Phone Number"}),Object(qe.jsx)(ut.a.Control,{type:"phone",placeholder:"Enter phone number",value:S,onChange:function(e){return I(e.target.value)}})]}),Object(qe.jsxs)(ut.a.Group,{controlId:"password",children:[Object(qe.jsx)(ut.a.Label,{children:"Password"}),Object(qe.jsx)(ut.a.Control,{type:"password",placeholder:"Enter password",value:u,onChange:function(e){return j(e.target.value)}})]}),Object(qe.jsxs)(ut.a.Group,{controlId:"confirmPassword",children:[Object(qe.jsx)(ut.a.Label,{children:"Confirm Password"}),Object(qe.jsx)(ut.a.Control,{type:"password",placeholder:"Enter password",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(qe.jsx)(jt.a,{type:"submit",variant:"primary",className:"my-3",children:"Register"})]}),Object(qe.jsx)(Je.a,{className:"py-3",children:Object(qe.jsxs)(He.a,{children:["Have an Account?",Object(qe.jsx)($e.Link,{to:N?"/login?redirect=".concat(N):"/login",children:Object(qe.jsx)("span",{className:"px-3",children:"Login"})})]})})]})},gt=n(333),yt=function(e){var t=e.history,n=(e.location,Object(r.useState)("")),a=Object(Se.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)(""),d=Object(Se.a)(o,2),l=d[0],u=d[1],j=Object(r.useState)(""),p=Object(Se.a)(j,2),b=p[0],h=p[1],O=Object(r.useState)(""),m=Object(Se.a)(O,2),x=m[0],f=m[1],g=Object(r.useState)(""),y=Object(Se.a)(g,2),v=y[0],S=y[1],I=Object(r.useState)(""),E=Object(Se.a)(I,2),_=E[0],C=E[1],L=Object(s.b)(),k=Object(s.c)((function(e){return e.userDetails})),A=k.loading,w=k.error,R=k.user,T=Object(s.c)((function(e){return e.userLogin})).userInfo,N=Object(s.c)((function(e){return e.userUpdateProfile})).success,U=Object(s.c)((function(e){return e.myOrderList})),P=U.loading,F=U.error,G=U.orders;Object(r.useEffect)((function(){Object(Ue.isEmpty)(T)?t.push("/login"):!R||T.name!==R.name||N?(L({type:J}),L(Te("profile")),L(Qe())):(f(R.name),i(R.email),S(R.phone))}),[t,T,R,L,N,G]);return Object(qe.jsxs)(Je.a,{children:[Object(qe.jsxs)(He.a,{md:3,children:[Object(qe.jsx)("h2",{children:"User Profile"}),_&&Object(qe.jsx)(st,{variant:"danger",children:_}),N&&Object(qe.jsx)(st,{variant:"success",children:"Profile Updated"}),w&&Object(qe.jsx)(st,{variant:"danger",children:w}),A&&Object(qe.jsx)(rt,{}),Object(qe.jsxs)(ut.a,{onSubmit:function(e){e.preventDefault(),l!==b?C("Passwords do not match"):L(function(e){return function(){var t=Object(we.a)(Ae.a.mark((function t(n,r){var a,c,s,i,o;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:Q}),a=r(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,De.a.put("/api/users/profile",e,s);case 6:i=t.sent,o=i.data,n({type:q,payload:o}),n({type:D,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),n({type:z,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}()}({id:R.id,name:x,email:c,password:l,phone:v}))},children:[Object(qe.jsxs)(ut.a.Group,{controlId:"name",children:[Object(qe.jsx)(ut.a.Label,{className:"fw-bold",children:"Name"}),Object(qe.jsx)(ut.a.Control,{type:"name",placeholder:"Enter name",value:x,onChange:function(e){return f(e.target.value)}})]}),Object(qe.jsxs)(ut.a.Group,{controlId:"email",children:[Object(qe.jsx)(ut.a.Label,{className:"fw-bold",children:"Email Address"}),Object(qe.jsx)(ut.a.Control,{type:"email",placeholder:"Enter email",value:c,onChange:function(e){return i(e.target.value)}})]}),Object(qe.jsxs)(ut.a.Group,{controlId:"phone",children:[Object(qe.jsx)(ut.a.Label,{className:"fw-bold",children:"Phone Number"}),Object(qe.jsx)(ut.a.Control,{type:"phone",placeholder:"Enter phone number",value:v,onChange:function(e){return S(e.target.value)}})]}),Object(qe.jsxs)(ut.a.Group,{controlId:"password",children:[Object(qe.jsx)(ut.a.Label,{className:"fw-bold",children:"Password"}),Object(qe.jsx)(ut.a.Control,{type:"password",placeholder:"Enter password",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(qe.jsxs)(ut.a.Group,{controlId:"confirmPassword",children:[Object(qe.jsx)(ut.a.Label,{className:"fw-bold",children:"Confirm Password"}),Object(qe.jsx)(ut.a.Control,{type:"password",placeholder:"Enter password",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(qe.jsx)(jt.a,{className:"my-3",type:"submit",variant:"primary",children:"Update"})]})]}),Object(qe.jsxs)(He.a,{md:9,children:[Object(qe.jsx)("h2",{children:"My Orders"}),P?Object(qe.jsx)(rt,{}):F?Object(qe.jsx)(st,{variant:"danger",children:"Yet to place an order"}):Object(qe.jsxs)(gt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(qe.jsx)("thead",{children:Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("th",{children:"ID"}),Object(qe.jsx)("th",{children:"DATE"}),Object(qe.jsx)("th",{children:"TOTAL"}),Object(qe.jsx)("th",{children:"PAID"}),Object(qe.jsx)("th",{children:"DELIVERED"}),Object(qe.jsx)("th",{})]})}),Object(qe.jsx)("tbody",{children:G.map((function(e){return Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("td",{children:e.order_id}),Object(qe.jsx)("td",{children:e.date_of_purchase?e.date_of_purchase.substring(0,10):(new Date).toJSON().slice(0,10).replace(/-/g,"/")}),Object(qe.jsx)("td",{children:e.total_price}),Object(qe.jsx)("td",{children:e.is_paid?e.paid_on.substring(0,10):Object(qe.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(qe.jsx)("td",{children:e.isDelivered?e.delivered_on.substring(0,10):Object(qe.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(qe.jsx)("td",{children:Object(qe.jsx)(Ie.LinkContainer,{to:"order/".concat(e.order_id),children:Object(qe.jsx)(jt.a,{className:"btn-sm",variant:"light",children:"Details"})})})]},e.order_id)}))})]})]})]})},vt=function(e){var t=e.step1,n=e.step2,r=e.step3,a=e.step4;return Object(qe.jsxs)(Ce.a,{className:"justify-content-center mb-4",children:[Object(qe.jsx)(Ce.a.Item,{children:t?Object(qe.jsx)(Ie.LinkContainer,{to:"/login",children:Object(qe.jsx)(Ce.a.Link,{children:"Sign In"})}):Object(qe.jsx)(Ce.a.Link,{disabled:!0,children:"Sign In"})}),Object(qe.jsx)(Ce.a.Item,{children:n?Object(qe.jsx)(Ie.LinkContainer,{to:"/shipping",children:Object(qe.jsx)(Ce.a.Link,{children:"Shipping"})}):Object(qe.jsx)(Ce.a.Link,{disabled:!0,children:"Shipping"})}),Object(qe.jsx)(Ce.a.Item,{children:r?Object(qe.jsx)(Ie.LinkContainer,{to:"/payment",children:Object(qe.jsx)(Ce.a.Link,{children:"Payment"})}):Object(qe.jsx)(Ce.a.Link,{disabled:!0,children:"Payment"})}),Object(qe.jsx)(Ce.a.Item,{children:a?Object(qe.jsx)(Ie.LinkContainer,{to:"/placeorder",children:Object(qe.jsx)(Ce.a.Link,{children:"Place Order"})}):Object(qe.jsx)(Ce.a.Link,{disabled:!0,children:"Place Order"})})]})},St=function(e){var t=e.history,n=Object(s.c)((function(e){return e.cart})).shippingAddress,a=Object(s.b)(),c=Object(r.useState)(n.address),i=Object(Se.a)(c,2),o=i[0],d=i[1],l=Object(r.useState)(n.city),u=Object(Se.a)(l,2),j=u[0],p=u[1],b=Object(r.useState)(n.pincode),h=Object(Se.a)(b,2),O=h[0],m=h[1],x=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(r.useEffect)((function(){Object(Ue.isEmpty)(x)&&t.push("/")}),[t,x]);return Object(qe.jsxs)(mt,{children:[Object(qe.jsx)(vt,{step1:!0,step2:!0}),Object(qe.jsx)("h1",{children:" Shipping "}),Object(qe.jsxs)(ut.a,{onSubmit:function(e){var n;e.preventDefault(),a((n={address:o,city:j,pincode:O},function(){var e=Object(we.a)(Ae.a.mark((function e(t,r){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:A,payload:n}),localStorage.setItem("shippingAddress",JSON.stringify(n));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),a(function(){var e=Object(we.a)(Ae.a.mark((function e(t,n){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:se});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),t.push("/payment")},children:[Object(qe.jsxs)(ut.a.Group,{controlId:"address",children:[Object(qe.jsx)(ut.a.Label,{children:"Address"}),Object(qe.jsx)(ut.a.Control,{type:"text",placeholder:"Enter address",value:o,required:!0,onChange:function(e){return d(e.target.value)}})]}),Object(qe.jsxs)(ut.a.Group,{controlId:"address",children:[Object(qe.jsx)(ut.a.Label,{children:"City"}),Object(qe.jsx)(ut.a.Control,{type:"text",placeholder:"Enter city",value:j,required:!0,onChange:function(e){return p(e.target.value)}})]}),Object(qe.jsxs)(ut.a.Group,{controlId:"pincode",children:[Object(qe.jsx)(ut.a.Label,{children:"Pincode"}),Object(qe.jsx)(ut.a.Control,{type:"text",placeholder:"Enter pincode",value:O,required:!0,onChange:function(e){return m(e.target.value)}})]}),Object(qe.jsx)(jt.a,{type:"submit",variant:"primary",className:"my-3",children:"Continue"})]})]})},It=function(e){var t=e.history,n=Object(s.c)((function(e){return e.cart})).shippingAddress,a=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(r.useEffect)((function(){Object(Ue.isEmpty)(a)&&t.push("/")}),[t,a]),n||t.push("/shipping");var c=Object(s.b)(),i=Object(r.useState)("PayTM"),o=Object(Se.a)(i,2),d=o[0],l=o[1];return Object(qe.jsxs)(mt,{children:[Object(qe.jsx)(vt,{step1:!0,step2:!0,step3:!0}),Object(qe.jsx)("h1",{children:" Payment Method "}),Object(qe.jsxs)(ut.a,{onSubmit:function(e){e.preventDefault(),c(function(e){return function(){var t=Object(we.a)(Ae.a.mark((function t(n){return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:w,payload:e}),localStorage.setItem("paymentMethod",JSON.stringify(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(d)),t.push("/placeorder")},children:[Object(qe.jsxs)(ut.a.Group,{children:[Object(qe.jsx)(ut.a.Label,{as:"legend",children:"Select Method"}),Object(qe.jsxs)(He.a,{children:[Object(qe.jsx)(ut.a.Check,{type:"radio",label:"PayTM",id:"paytm",name:"paymentMethod",value:"PayTM",checked:!0,onChange:function(e){return l(e.target.value)}}),Object(qe.jsx)(ut.a.Check,{type:"radio",label:"GPay",id:"gpay",name:"paymentMethod",value:"GPay",checked:!0,onChange:function(e){return l(e.target.value)}})]})]}),Object(qe.jsx)(jt.a,{type:"submit",variant:"primary",className:"my-3",children:"Continue"})]})]})},Et=function(e){var t=e.history,n=Object(s.b)(),a=Object(s.c)((function(e){return e.cart}));a.itemsPrice=a.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0),a.shippingPrice=100,a.totalPrice=Number(a.itemsPrice+a.shippingPrice);var c=Object(s.c)((function(e){return e.orderCreate})),i=c.order,o=c.success,d=c.error,l=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(r.useEffect)((function(){Object(Ue.isEmpty)(l)&&t.push("/"),o&&(n(Qe()),t.push("/order/".concat(i.orderId)))}),[t,o,l,n,i]);return Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)(vt,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(qe.jsxs)(Je.a,{children:[Object(qe.jsx)(He.a,{md:8,children:Object(qe.jsxs)(lt.a,{variant:"flush",children:[Object(qe.jsxs)(lt.a.Item,{children:[Object(qe.jsx)("h2",{children:"Shipping"}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("strong",{children:"Address"}),a.shippingAddress.address,", ",a.shippingAddress.city,",",a.shippingAddress.pincode]})]}),Object(qe.jsxs)(lt.a.Item,{children:[Object(qe.jsx)("h2",{children:"Payment Method"}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("strong",{children:"Method: "}),a.paymentMethod]})]}),Object(qe.jsxs)(lt.a.Item,{children:[Object(qe.jsx)("h2",{children:"Order Items"}),0===a.cartItems.length?Object(qe.jsx)(st,{children:"Your cart is empty"}):Object(qe.jsx)(lt.a,{variant:"flush",children:a.cartItems.map((function(e,t){return Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsxs)(Je.a,{children:[Object(qe.jsx)(He.a,{md:1,children:Object(qe.jsx)(dt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(qe.jsx)(He.a,{children:Object(qe.jsx)($e.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(qe.jsxs)(He.a,{md:4,children:[e.qty," x \u20b9",e.price," = \u20b9",e.qty*e.price]})]})},t)}))})]})]})}),Object(qe.jsx)(He.a,{md:4,children:Object(qe.jsx)(Ze.a,{children:Object(qe.jsxs)(lt.a,{cariant:"flush",children:[Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsx)("h2",{children:"Order Summary"})}),Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsxs)(Je.a,{children:[Object(qe.jsx)(He.a,{children:"Items"}),Object(qe.jsxs)(He.a,{children:["\u20b9",a.itemsPrice]})]})}),Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsxs)(Je.a,{children:[Object(qe.jsx)(He.a,{children:"Shipping"}),Object(qe.jsxs)(He.a,{children:["\u20b9",a.shippingPrice]})]})}),Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsxs)(Je.a,{children:[Object(qe.jsx)(He.a,{children:"Total"}),Object(qe.jsxs)(He.a,{children:["\u20b9",a.totalPrice]})]})}),Object(qe.jsx)(lt.a.Item,{children:d&&Object(qe.jsx)(st,{variant:"danger",children:d})}),Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsx)(jt.a,{type:"button",className:"col-12",disabled:0===a.cartItems.length,onClick:function(){n(function(e){return function(){var t=Object(we.a)(Ae.a.mark((function t(n,r){var a,c,s,i,o;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:re}),a=r(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,De.a.post("/api/orders",e,s);case 6:i=t.sent,o=i.data,n({type:ae,payload:o}),n({type:k}),localStorage.removeItem("cartItems"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),n({type:ce,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}()}({orderItems:a.cartItems,shippingAddress:"".concat(a.shippingAddress.address,", ").concat(a.shippingAddress.city,", ").concat(a.shippingAddress.pincode),paymentMethod:a.paymentMethod,itemsPrice:a.itemsPrice,shippingPrice:a.shippingPrice,totalPrice:a.totalPrice}))},children:"Place Order"})})]})})})]})]})},_t=function(e){var t=e.match.params.id,n=Object(s.b)(),a=Object(s.c)((function(e){return e.orderDetails})),c=a.order,i=a.orderItems,o=a.loading,d=a.error;Object(r.useEffect)((function(){var e;n((e=t,function(){var t=Object(we.a)(Ae.a.mark((function t(n,r){var a,c,s,i,o;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:ie}),a=r(),c=a.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,De.a.get("/api/orders/".concat(e),s);case 6:i=t.sent,o=i.data,n({type:oe,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:de,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()))}),[n,t]);var l={};return c&&c.length>0?l=c[0]:d="Order not found",o?Object(qe.jsx)(rt,{}):d?Object(qe.jsx)(st,{variant:"danger",children:d}):Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)("h1",{children:"Order"}),Object(qe.jsxs)(Je.a,{children:[Object(qe.jsx)(He.a,{md:8,children:Object(qe.jsxs)(lt.a,{variant:"flush",children:[Object(qe.jsxs)(lt.a.Item,{children:[Object(qe.jsx)("h2",{children:"Shipping"}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("strong",{children:"Name: "})," ",l.name]}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("strong",{children:"Email: "}),Object(qe.jsx)("a",{href:"{mailTo:".concat(l.email,"}"),children:l.email})]}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("strong",{children:"Address: "}),l.shipping_address]}),1===l.is_delivered?Object(qe.jsxs)(st,{variant:"success",children:["Delivered on ",l.delivered_on]}):Object(qe.jsx)(st,{variant:"danger",children:"Not Delivered"})]}),Object(qe.jsxs)(lt.a.Item,{children:[Object(qe.jsx)("h2",{children:"Payment Method"}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("strong",{children:"Method: "}),l.payment_method]}),1===l.is_paid?Object(qe.jsxs)(st,{variant:"success",children:["Paid on ",l.paid_on]}):Object(qe.jsx)(st,{variant:"danger",children:"Not Paid"})]}),Object(qe.jsxs)(lt.a.Item,{children:[Object(qe.jsx)("h2",{children:"Ordered Items"}),0===i.length?Object(qe.jsx)(st,{children:"Order is empty"}):Object(qe.jsx)(lt.a,{variant:"flush",children:i.map((function(e,t){return Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsxs)(Je.a,{children:[Object(qe.jsx)(He.a,{md:1,children:Object(qe.jsx)(dt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(qe.jsx)(He.a,{children:Object(qe.jsx)($e.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(qe.jsxs)(He.a,{md:4,children:[e.qty," x \u20b9",e.price," = \u20b9",e.qty*e.price]})]})},t)}))})]})]})}),Object(qe.jsx)(He.a,{md:4,children:Object(qe.jsx)(Ze.a,{children:Object(qe.jsxs)(lt.a,{cariant:"flush",children:[Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsx)("h2",{children:"Order Summary"})}),Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsxs)(Je.a,{children:[Object(qe.jsx)(He.a,{children:"Items"}),Object(qe.jsxs)(He.a,{children:["\u20b9",l.items_price]})]})}),Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsxs)(Je.a,{children:[Object(qe.jsx)(He.a,{children:"Shipping"}),Object(qe.jsxs)(He.a,{children:["\u20b9",l.shipping_price]})]})}),Object(qe.jsx)(lt.a.Item,{children:Object(qe.jsxs)(Je.a,{children:[Object(qe.jsx)(He.a,{children:"Total"}),Object(qe.jsxs)(He.a,{children:["\u20b9",l.total_price]})]})})]})})})]}),Object(qe.jsx)($e.Link,{className:"btn btn-primary m-3",to:"/",children:"Back Home"})]})},Ct=n(168),Lt=n.n(Ct),kt=n(169),At=n.n(kt),wt=n(347),Rt=n(171),Dt=n.n(Rt),Tt=n(170),Nt=n.n(Tt),Ut=n(354),Pt=n(339),Ft=n(351),Gt=n(355),Mt=n(352),Bt=n(353),Qt=n(336),qt=function(e){var t=Object(r.useState)({name:"",oneLiner:"",description:"",price:200,countInStock:0}),n=Object(Se.a)(t,2),a=n[0],c=n[1],s=function(){e.onCancel()};return Object(qe.jsx)("div",{children:Object(qe.jsxs)(Ft.a,{open:e.open,onClose:s,"aria-labelledby":"form-dialog-title",children:[Object(qe.jsx)(Qt.a,{id:"form-dialog-title",children:"New Product"}),Object(qe.jsxs)(Mt.a,{children:[Object(qe.jsx)(Bt.a,{children:"Adding"}),Object(qe.jsxs)(Ut.a,{className:"py-3",style:{width:280},children:[Object(qe.jsx)(Pt.a,{autoFocus:!0,id:"product-name-input",className:"py-3 my-2",label:"Product Name",type:"text",value:a.name,onChange:function(e){return c(Object(_.a)(Object(_.a)({},a),{},{name:e.target.value}))}}),Object(qe.jsx)(Pt.a,{id:"product-oneliner-input",className:"py-3 my-2",label:"One Line Description",type:"text",value:a.oneLiner,onChange:function(e){return c(Object(_.a)(Object(_.a)({},a),{},{oneLiner:e.target.value}))}}),Object(qe.jsx)(Pt.a,{id:"product-name-input",className:"py-3 my-2",label:"Product Description",type:"text",value:a.description,onChange:function(e){return c(Object(_.a)(Object(_.a)({},a),{},{description:e.target.value}))}}),Object(qe.jsx)(Pt.a,{className:"py-3 my-2",id:"product-price-input",label:"Price",type:"number",value:a.price,onChange:function(e){return c(Object(_.a)(Object(_.a)({},a),{},{price:e.target.value}))}}),Object(qe.jsx)(Pt.a,{className:"py-3 my-2",id:"product-count-input",label:"In Stock",type:"number",value:a.countInStock,onChange:function(e){return c(Object(_.a)(Object(_.a)({},a),{},{countInStock:e.target.value}))}})]})]}),Object(qe.jsxs)(Gt.a,{children:[Object(qe.jsx)(wt.a,{onClick:s,color:"primary",children:"Cancel"}),Object(qe.jsx)(wt.a,{color:"primary",onClick:function(){e.onSave(a)},children:"Save"})]})]})})},zt=function(e){var t=Object(r.useState)({row:null,state:null,oldValue:null}),n=Object(Se.a)(t,2),a=n[0],c=n[1],s=e.rows,i=e.columns,o=(e.name,e.id),d=e.addIconVal,l=void 0===d||d,u=e.deleteHandler,j=e.updateHandler,p=e.addHandler,b=e.actionsRequired,h=void 0===b||b,O=e.sortOrder,m=void 0===O?"asc":O,x=Object(r.useState)(s),f=Object(Se.a)(x,2),g=f[0],y=f[1],v=Object(r.useState)(!1),S=Object(Se.a)(v,2),I=S[0],C=S[1],L=s.map((function(e){return e["".concat(o)]})),k={dataField:"actions",text:"Actions",editable:!1,isDummyField:!0,formatExtraData:a,formatter:function(e,t){return t.state?Object(qe.jsxs)("div",{children:[Object(qe.jsx)("button",{className:"btn btn-secondary btn-xs",onClick:function(){j?j(t):c((function(e){return t.state=null,Object(_.a)(Object(_.a)({},e),{},{state:t.state,row:null})}))},children:"Save"}),Object(qe.jsx)("button",{className:"btn btn-primary btn-xs",onClick:function(){y((function(e){return e.map((function(e){return e["".concat(o)]===t["".concat(o)]?a.oldValue:e}))})),c((function(e){return t.state=null,Object(_.a)(Object(_.a)({},e),{},{state:t.state,row:null})}))},children:"Cancel"})]}):Object(qe.jsx)("div",{children:Object(qe.jsxs)("button",{className:"btn btn-danger btn-xs",onClick:function(){return w(t["".concat(o)])},children:[Object(qe.jsx)(Nt.a,{}),"Delete"]})})}};h&&(i.find((function(e){return"actions"===e.dataField}))?(i.splice(i.findIndex((function(e){return"actions"===e.dataField})),1),i.push(k)):i.push(k));var A=[{dataField:o,order:m}],w=function(e){u?u(e):y(g.filter((function(t){return t["".concat(o)]!==e})))},R=function(){C(!1)},D=function(e){p?p(e):y((function(t){return[Object(_.a)({},e)].concat(Object(E.a)(t))})),C(!1)};return Object(qe.jsxs)(qe.Fragment,{children:[l?Object(qe.jsx)("div",{style:{textAlign:"left"},children:Object(qe.jsxs)(wt.a,{className:"btn btn-warning",onClick:function(){C(!0)},children:[Object(qe.jsx)(Dt.a,{fontSize:"small"})," Add"]})}):null,Object(qe.jsx)(Lt.a,{keyField:o,selectRow:{mode:"checkbox",hideSelectColumn:!0},data:g,columns:i,defaultSorted:A,cellEdit:At()({mode:"click",blurToSave:!0,onStartEdit:function(e,t,n,r){console.log("start to edit!!!"),"edited"!==e.state&&(console.log(e.state),function(e){c((function(t){return Object(_.a)(Object(_.a)({},t),{},{oldValue:Object(_.a)({},e)})}))}(e))},beforeSaveCell:function(e,t,n,r){console.log("Before Saving Cell!!")},afterSaveCell:function(e,t,n,r){console.log("After Saving Cell!!"),e!==t&&(n.state="edited",c(Object(_.a)(Object(_.a)({},a),{},{row:n,state:n.state})))},nonEditableRows:function(){return a.row?L.filter((function(e){return e!==a.row.id})):[]}})}),Object(qe.jsx)(qt,{open:I,onCancel:R,onSave:D})]})},Jt=n(356),Ht=n(172),Vt=n.n(Ht),Yt=n(173),Wt=n.n(Yt),Kt=function(e,t,n){return!isNaN(e)||{valid:!1,message:"This field should be numeric"}},Xt=function(e,t){return null===e?Object(qe.jsxs)("div",{className:"sameline-cls",children:[Object(qe.jsx)(Jt.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){return Zt(e,t)},children:Object(qe.jsx)(Vt.a,{})}),Object(qe.jsx)(Jt.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){return $t(e,t)},children:Object(qe.jsx)(Wt.a,{})})]}):e?Object(qe.jsx)("div",{className:"center-div-hor",children:Object(qe.jsx)("i",{className:"fas fa-check",style:{color:"green"}})}):Object(qe.jsx)("i",{className:"fas fa-times",style:{color:"red"}})},Zt=function(e,t){console.log("Done clicked")},$t=function(e,t){console.log("Reject clicked",e,t)},en=[{dataField:"user_id",text:"User ID",sort:!0,editable:!1},{dataField:"name",text:"User Name",sort:!0},{dataField:"email",text:"E-mail",sort:!0},{dataField:"is_admin",text:"Admin",type:"number",formatter:function(e,t){return t.is_admin?Object(qe.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(qe.jsx)("i",{className:"fas fa-times",style:{color:"red"}})},sort:!0},{dataField:"phone_number",text:"Phone",type:"number",validator:Kt}],tn=function(e){var t=e.history,n=Object(s.b)(),a=Object(s.c)((function(e){return e.userList})),c=a.loading,i=a.error,o=a.users,d=Object(s.c)((function(e){return e.userLogin})).userInfo,l=Object(s.c)((function(e){return e.userDelete})).success,u=Object(s.c)((function(e){return e.userUpdate})).success;Object(r.useEffect)((function(){d&&d.isAdmin?n(function(){var e=Object(we.a)(Ae.a.mark((function e(t,n){var r,a,c,s,i;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:H}),r=n(),a=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,De.a.get("/api/users/",c);case 6:s=e.sent,i=s.data,t({type:V,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Y,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()):t.push("/login")}),[n,t,d,l,u]);return Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)("h1",{children:"Users"}),c?Object(qe.jsx)(rt,{}):i?Object(qe.jsx)(st,{cvariant:"danger",children:i}):Object(qe.jsx)(zt,{name:"UsersGrid",rows:o,columns:en,id:"user_id",addIconVal:!1,deleteHandler:function(e){window.confirm("Are you sure?")&&n(function(e){return function(){var t=Object(we.a)(Ae.a.mark((function t(n,r){var a,c,s;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:K}),a=r(),c=a.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,De.a.delete("/api/users/".concat(e),s);case 6:n({type:X}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:Z,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()}(e))},updateHandler:function(e){n(Ne({id:e.user_id,name:e.name,email:e.email,phone:e.phone_number,isAdmin:e.is_admin>0}))}})]})},nn=function(e){var t=e.match,n=e.history,a=t.params.id,c=Object(r.useState)(""),i=Object(Se.a)(c,2),o=i[0],d=i[1],l=Object(r.useState)(""),u=Object(Se.a)(l,2),j=u[0],p=u[1],b=Object(r.useState)(""),h=Object(Se.a)(b,2),O=h[0],m=h[1],x=Object(r.useState)(!1),f=Object(Se.a)(x,2),g=f[0],y=f[1],v=Object(s.b)(),S=Object(s.c)((function(e){return e.userDetails})),I=S.loading,E=S.error,_=S.user,C=Object(s.c)((function(e){return e.userUpdate})),L=C.loading,k=C.error,A=C.success;Object(r.useEffect)((function(){A?(v({type:ne}),n.push("/admin/userList")):_.name&&_.user_id===parseInt(a)?(p(_.name),d(_.email),m(_.phone_number),y(_.is_admin)):v(Te(a))}),[_,v,a,A,n]);return Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)($e.Link,{to:"/admin/userList",className:"btn btn-light my-3",children:"Go Back"}),Object(qe.jsxs)(mt,{children:[Object(qe.jsx)("h1",{children:"Edit User"}),L&&Object(qe.jsx)(rt,{}),k&&Object(qe.jsx)(st,{variant:"danger",children:k}),I?Object(qe.jsx)(rt,{}):E?Object(qe.jsx)(st,{variant:"danger",children:E}):Object(qe.jsxs)(ut.a,{onSubmit:function(e){e.preventDefault(),v(Ne({id:a,name:j,email:o,phone:O,isAdmin:g}))},children:[Object(qe.jsxs)(ut.a.Group,{className:"py-3",controlId:"name",children:[Object(qe.jsx)(ut.a.Label,{children:"Name"}),Object(qe.jsx)(ut.a.Control,{type:"name",placeholder:"Enter name",value:j,onChange:function(e){return p(e.target.value)}})]}),Object(qe.jsxs)(ut.a.Group,{className:"py-3",controlId:"email",children:[Object(qe.jsx)(ut.a.Label,{children:"Email Address"}),Object(qe.jsx)(ut.a.Control,{type:"email",placeholder:"Enter email",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(qe.jsxs)(ut.a.Group,{className:"py-3",controlId:"phone",children:[Object(qe.jsx)(ut.a.Label,{children:"Phone Number"}),Object(qe.jsx)(ut.a.Control,{type:"phone",placeholder:"Enter phone number",value:O,onChange:function(e){return m(e.target.value)}})]}),Object(qe.jsx)(ut.a.Group,{className:"py-3",controlId:"isAdmin",children:Object(qe.jsx)(ut.a.Check,{type:"checkbox",label:"Is Admin",checked:g,onChange:function(e){return y(e.target.checked)}})}),Object(qe.jsx)(jt.a,{className:"py-3",type:"submit",variant:"primary",children:"Update"})]})]})]})},rn=[{dataField:"id",text:"Product ID",sort:!0,editable:!1},{dataField:"name",text:"Product Name",sort:!0},{dataField:"one_line_desc",text:"One Liner",sort:!0},{dataField:"description",text:"Description",sort:!0},{dataField:"price",text:"Price",type:"number",validator:Kt,sort:!0},{dataField:"countInStock",text:"In Stock",type:"number",validator:Kt,sort:!0},{dataField:"state",text:"State",isDummyField:!0,hidden:!0}],an=function(e){var t=e.history,n=(e.match,Object(s.b)()),a=Object(s.c)((function(e){return e.productList})),c=a.loading,i=a.error,o=a.products,d=Object(s.c)((function(e){return e.productDelete})),l=d.loading,u=d.error,j=d.success,p=Object(s.c)((function(e){return e.productAdd})),b=p.loading,h=p.error,E=p.success,_=Object(s.c)((function(e){return e.productUpdate})),C=_.loading,L=_.error,k=_.success,A=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(r.useEffect)((function(){A&&A.isAdmin?n(tt()):t.push("/login")}),[n,t,A,j,E,k]);return Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)(Je.a,{className:"align-items-center",children:Object(qe.jsx)(He.a,{children:Object(qe.jsx)("h1",{children:"Products"})})}),l&&Object(qe.jsx)(rt,{}),u&&Object(qe.jsx)(st,{variant:"danger",children:u}),C&&Object(qe.jsx)(rt,{}),L&&Object(qe.jsx)(st,{variant:"danger",children:L}),b&&Object(qe.jsx)(rt,{}),h&&Object(qe.jsx)(st,{variant:"danger",children:h}),c?Object(qe.jsx)(rt,{}):i?Object(qe.jsx)(st,{variant:"danger",children:i}):Object(qe.jsx)(zt,{name:"ProductsGrid",rows:o,columns:rn,id:"id",addHandler:function(e){n(function(e){return function(){var t=Object(we.a)(Ae.a.mark((function t(n,r){var a,c,s;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:f}),a=r(),c=a.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,De.a.post("/api/products/",{product:e},s);case 6:n({type:g}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:y,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()}(e))},deleteHandler:function(e){window.confirm("Are you sure?")&&n(function(e){return function(){var t=Object(we.a)(Ae.a.mark((function t(n,r){var a,c,s;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:O}),a=r(),c=a.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,De.a.delete("/api/products/".concat(e),s);case 6:n({type:m}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:x,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()}(e))},updateHandler:function(e){n(function(e){return function(){var t=Object(we.a)(Ae.a.mark((function t(n,r){var a,c,s;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:v}),a=r(),c=a.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,De.a.post("/api/products/".concat(e.id),{product:e},s);case 6:n({type:S}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:I,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()}({id:e.id,name:e.name,oneLiner:e.one_line_desc,description:e.description,price:e.price,countInStock:e.countInStock}))}})]})},cn=[{dataField:"order_id",text:"Order ID",sort:!0,editable:!1},{dataField:"orderItems",text:"Order Items",sort:!1,formatter:function(e,t){if(t.orderItems)return Object(qe.jsxs)(qe.Fragment,{children:[t.orderItems.map((function(e,t){return Object(qe.jsx)("div",{children:e.name},t)})),Object(qe.jsx)("br",{})]})},editable:!1},{dataField:"order_date",text:"Order Date",sort:!0,formatter:function(e,t){return new Date(Date.parse(e)).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},editable:!1},{dataField:"user_id",text:"User ID",hidden:!0,sort:!0,editable:!1},{dataField:"name",text:"User Name",sort:!0,editable:!1},{dataField:"payment_method",text:"Payment Method",sort:!0,editable:!1},{dataField:"shipping_address",text:"Shipping Address",editable:!1},{dataField:"items_price",text:"Items Cost",type:"number",editable:!1},{dataField:"shipping_price",text:"Shipping Cost",type:"number",hidden:!0,editable:!1},{dataField:"total_price",text:"Total Cost",type:"number",hidden:!0,editable:!1},{dataField:"total_price",text:"Details",type:"number",editable:!1,isDummyField:!0,formatter:function(e,t){return Object(qe.jsx)($e.Link,{to:"/order/".concat(t.order_id),children:Object(qe.jsx)(jt.a,{children:"Details"})})}},{dataField:"order_accepted",text:"Accepted?",editable:!1,formatter:Xt},{dataField:"paid_on",text:"Paid on",editable:!1,isDummyField:!0,formatter:function(e,t){return e||Object(qe.jsx)(jt.a,{children:"Paid"})}},{dataField:"shipped",text:"Shipped?",editable:!1,formatter:Xt},{dataField:"delivered_on",text:"Delivered on",editable:!1,isDummyField:!0,formatter:function(e,t){return e||Object(qe.jsx)(jt.a,{children:"Delivered"})}}],sn=function(e){var t=e.history,n=Object(s.b)(),a=Object(s.c)((function(e){return e.userLogin})).userInfo,c=Object(s.c)((function(e){return e.allOrdersList})),i=c.loading,o=c.error,d=c.allOrders;return Object(r.useEffect)((function(){a&&a.isAdmin?n(function(){var e=Object(we.a)(Ae.a.mark((function e(t,n){var r,a,c,s,i;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:pe}),r=n(),a=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,De.a.get("/api/orders/",c);case 6:s=e.sent,i=s.data,t({type:be,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:he,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()):t.push("/login")}),[n,t,a]),Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)(Je.a,{className:"align-items-center",children:Object(qe.jsx)(He.a,{children:Object(qe.jsx)("h1",{children:"Orders"})})}),i?Object(qe.jsx)(rt,{}):o?Object(qe.jsx)(st,{variant:"danger",children:o}):Object(qe.jsx)(zt,{name:"OrdersGrid",rows:d,columns:cn,id:"order_id",addIconVal:!1,actionsRequired:!1,sortOrder:"desc"})]})},on=function(){return Object(qe.jsxs)($e.BrowserRouter,{children:[Object(qe.jsx)(ze,{}),Object(qe.jsx)("main",{className:"py-3",children:Object(qe.jsxs)(_e.a,{children:[Object(qe.jsx)(ot.d,{path:"/login",component:xt}),Object(qe.jsx)(ot.d,{path:"/register",component:ft}),Object(qe.jsx)(ot.d,{path:"/profile",component:yt}),Object(qe.jsx)(ot.d,{path:"/",component:it,exact:!0}),Object(qe.jsx)(ot.d,{path:"/product/:id",component:bt}),Object(qe.jsx)(ot.d,{path:"/cart/:id?",component:Ot}),Object(qe.jsx)(ot.d,{path:"/shipping",component:St}),Object(qe.jsx)(ot.d,{path:"/payment",component:It}),Object(qe.jsx)(ot.d,{path:"/placeorder",component:Et}),Object(qe.jsx)(ot.d,{path:"/order/:id",component:_t}),Object(qe.jsx)(ot.d,{path:"/admin/userlist",component:tn}),Object(qe.jsx)(ot.d,{path:"/admin/user/:id/edit",component:nn}),Object(qe.jsx)(ot.d,{path:"/admin/productList",component:an}),Object(qe.jsx)(ot.d,{path:"/admin/orderList",component:sn})]})}),Object(qe.jsx)(Xe,{})]})},dn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,359)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};c.a.render(Object(qe.jsx)(s.a,{store:ve,children:Object(qe.jsx)(on,{})}),document.getElementById("root")),dn()}},[[283,1,2]]]);
//# sourceMappingURL=main.c207f237.chunk.js.map